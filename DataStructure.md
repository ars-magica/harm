---
title: Data Structure
---


+ `ArM.STM` - Software Transactional Memory (STM) 
    + stores three graphs
        1. schema
        2. resources
        3. data (graph)
+ CharacterMap contains all the charactersheets for a given character
    + generated by `ArM.Character.getALlCS`
+ `ArM.STM.lookup` 
    + takes character, year, and season as arguments
    + retrieves the graphs from the STM
    + generates the CharacterMap
    + returns the right Character Sheet from the Map.

## Rules application

+ `prepareRecord` when the CharacterMap is created
+ graphs as augmented and merged when loaded in `ArM.Load.getGraph`


