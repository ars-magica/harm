cabal-version:       3.0
-- Initial package description 'harm.cabal' generated by 'cabal
-- init'.  For further documentation, see
-- http://haskell.org/cabal/users-guide/

description: 
     The harm module provides a CLI interface to process Ars Magica
     characters from JSON files and produce character sheets in Markdown.

     The JSON file normally contains a list of advancement stages, and the
     actual state of the character at a given time is computed.

     The libraries are designed with the intention of creating client/server
     systems with different interactie and non-interactive clients.

name:                harm
version:             0.1.0.0
-- synopsis:
-- description:
-- bug-reports:
license:             GPL-3.0-only
license-file:        LICENSE
author:              Hans Georg Schaathun
maintainer:          hg+gamereorg@schaathun.net
copyright:           2022 Hans Georg Schaathun
-- category:
build-type:          Simple
extra-source-files:  CHANGELOG.md, README.md


source-repository head
   type:     git
   location: https://github.com/ars-magica/harm

common deps
  -- documentation:       True
  other-modules:       ArM.Debug.NoTrace
                       , ArM.Debug.Trace
                       , ArM.Debug.Time
                       , ArM.GameRules
                       , ArM.BasicIO
  -- other-extensions:
  build-depends:       base >=4.13  && < 5.0
                       , scientific >= 0.3.7
                       , text >= 1.2.4.0
                       , containers >= 0.6
                       , aeson >= 2.2.0.3
		       , aeson-extra >= 0.5.1
                       , aeson-pretty >= 0.8
                       , bytestring >= 0.10.10
                       , unordered-containers >= 0.2.18
                       , split >= 0.2.3
                       , utf8-string >= 1.0.2
                       , uri-encode >= 1.5
                       , directory >= 1.3
                       , lists >= 0.4
  hs-source-dirs:      . , ./src
  default-language:    Haskell2010

common harm-deps
  import:    deps
  other-modules:       ArM.Char.Character
                       -- , TestModule
                       , ArM.Char.CharacterSheet
                       , ArM.Char.Advancement
                       , ArM.Types
                       , ArM.Types.Calendar
                       , ArM.Types.Saga
                       , ArM.Types.KeyPair
                       , ArM.Types.Library
                       , ArM.Types.Character
                       , ArM.Types.Advancement
                       , ArM.Advancement
                       , ArM.Types.ProtoTrait
                       , ArM.Types.Trait
                       , ArM.Types.TraitKey
                       , ArM.Types.HarmObject
                       , ArM.Types.Story
                       , ArM.Types.Lab
                       , ArM.Types.HarmSagaObject
                       , ArM.Char.Combat
                       , ArM.DB.CSV
                       , ArM.DB.Spell
                       , ArM.DB.Weapon
                       , ArM.Char.Validation
                       , ArM.Char.Inference
                       , ArM.Char.Virtues
                       , ArM.Markdown
                       , ArM.SeasonDisplay
                       , ArM.Types.Covenant
                       , ArM.Cov.Saga
                       , ArM.IO
                       , ArM.Helper
  build-depends:       cassava >= 0.5.3
                       , parsec >= 3.1
                       , MissingH >= 1.6

executable harm
  import:      harm-deps
  main-is:     harm.hs
  ghc-options:
    -O2
    -Wall
    -threaded
    "-with-rtsopts=-N -s -h -i0.1"

